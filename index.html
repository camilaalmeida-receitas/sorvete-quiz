<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sorvete sem Segredo - Quiz</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --rosa: #fbb1bd;
      --menta: #b8e0d2;
      --creme: #fff5e1;
      --lilas: #d6c1f5;
      --chocolate: #8b5e3c;
      --text-dark: #3e3e3e;
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Montserrat', sans-serif;
      background: var(--creme);
      color: var(--text-dark);
      margin: 0;
      padding: 0;
    }

    .header {
      text-align: center;
      padding: 20px;
    }

    .header img {
      max-width: 180px;
      height: auto;
    }

    .quiz-container {
      max-width: 600px;
      margin: 20px auto;
      background: white;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
      display: none;
      opacity: 0;
      transform: scale(0.98) translateY(20px);
      pointer-events: none;
      transition: all 0.5s ease;
    }

    .quiz-container.active {
      display: block;
      opacity: 1;
      transform: scale(1) translateY(0);
      pointer-events: auto;
    }

    h2 {
      margin-bottom: 30px;
      font-size: 1.5rem;
      color: var(--chocolate);
      text-align: center;
    }

    .option {
      display: block;
      margin: 12px 0;
      padding: 15px;
      background: var(--menta);
      color: #333;
      text-align: center;
      border-radius: 12px;
      text-decoration: none;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s ease, background 0.3s;
    }

    .option:hover {
      background: var(--rosa);
      transform: scale(1.03);
    }

    .final img {
      max-width: 100%;
      margin: 15px 0;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .checkout-button {
      background: var(--lilas);
      padding: 15px 25px;
      color: var(--text-dark);
      font-weight: bold;
      text-decoration: none;
      display: inline-block;
      margin-top: 25px;
      border-radius: 10px;
      transition: background 0.3s, transform 0.2s;
    }

    .checkout-button:hover {
      background: var(--rosa);
      transform: scale(1.05);
    }

    @media (max-width: 640px) {
      .quiz-container {
        margin: 10px;
        padding: 20px;
      }

      h2 {
        font-size: 1.2rem;
      }

      .option {
        padding: 12px;
        font-size: 0.95rem;
      }

      .checkout-button {
        padding: 12px 20px;
        font-size: 1rem;
      }
    }
  </style>
  <!-- Meta Pixel Code -->
<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '1124624993037311'); 
  fbq('track', 'PageView');
</script>
<noscript>
  <img height="1" width="1" style="display:none"
       src="https://www.facebook.com/tr?id=1124624993037311&ev=PageView&noscript=1"/>
</noscript>
<!-- End Meta Pixel Code -->

</head>
<body>

<div class="header">
  <!-- Substitua o src abaixo pela sua logomarca -->
  <img src="images/logo.png" alt="Logo do Ebook" />
</div>

<div id="q1" class="quiz-container active">
  <h2>Qual dessas mem√≥rias te traz mais saudade da inf√¢ncia?</h2>
  <a class="option" onclick="nextQuestion('q2')">Comer sobremesa com a fam√≠lia aos domingos</a>
  <a class="option" onclick="nextQuestion('q2')">Aquele cheirinho gostoso vindo da cozinha</a>
  <a class="option" onclick="nextQuestion('q2')">As risadas ao redor da mesa</a>
  <a class="option" onclick="nextQuestion('q2')">A culin√°ria da v√≥ ou da m√£e</a>
</div>

<div id="q2" class="quiz-container">
  <h2>Se voc√™ pudesse criar uma nova tradi√ß√£o familiar, o que ela incluiria?</h2>
  <a class="option" onclick="nextQuestion('q3')">Preparar receitas juntos nos finais de semana</a>
  <a class="option" onclick="nextQuestion('q3')">Ter uma sobremesa especial feita em casa</a>
  <a class="option" onclick="nextQuestion('q3')">Ensinar os filhos a cozinhar</a>
  <a class="option" onclick="nextQuestion('q3')">Reunir todos para momentos especiais √† mesa</a>
</div>

<div id="q3" class="quiz-container">
  <h2>Como voc√™ se sentiria ao ver sua fam√≠lia pedindo aquele seu sorvete especial toda semana?</h2>
  <a class="option" onclick="nextQuestion('q4')">Orgulhosa por fazer algo delicioso</a>
  <a class="option" onclick="nextQuestion('q4')">Feliz por unir a fam√≠lia ao redor da mesa</a>
  <a class="option" onclick="nextQuestion('q4')">Realizado(a) por criar momentos √∫nicos</a>
  <a class="option" onclick="nextQuestion('q4')">Com vontade de experimentar novos sabores</a>
</div>

<div id="q4" class="quiz-container">
  <h2>Voc√™ gostaria de ter acesso a receitas de sorvetes artesanais que encantam adultos e crian√ßas e podem virar uma tradi√ß√£o na sua casa?</h2>
  <a class="option" onclick="nextQuestion('q5')">Sim, com certeza!</a>
  <a class="option" onclick="nextQuestion('q5')">Claro, adoro fazer receitas especiais</a>
  <a class="option" onclick="nextQuestion('q5')">Talvez, se forem f√°ceis e gostosas</a>
  <a class="option" onclick="nextQuestion('q5')">N√£o tenho certeza (mas fiquei curioso)</a>
</div>

<div id="q5" class="quiz-container">
  <h2>Eu vou te mostrar receitas que podem ser feitas em casa, de forma f√°cil, r√°pida e sem precisar de muito. Mas por d√∫vida, o que voc√™ teria a√≠ na sua casa?</h2>
  <a class="option" onclick="nextQuestion('final')">Tenho sorveteira</a>
  <a class="option" onclick="nextQuestion('final')">S√≥ liquidificador</a>
  <a class="option" onclick="nextQuestion('final')">Geladeira + for√ßa de vontade</a>
  <a class="option" onclick="nextQuestion('final')">Pretendo comprar equipamentos</a>
</div>

<div id="final" class="quiz-container final">
  <h2>Voc√™ est√° pronto para desvendar o segredo dos sorvetes!</h2>

  <div style="display: flex; flex-wrap: wrap; align-items: flex-start; gap: 30px; margin-top: 30px;">
    <div style="flex: 1 1 200px; min-width: 250px;">
      <img src="images/pessoa.png" alt="Fam√≠lia feliz com sorvete" style="width: 100%; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);" />
    </div>

    <div style="flex: 2 1 200; min-width: 280px;">
      <p style="font-size: 1rem; line-height: 1.6;">
        <strong>‚ÄúEu tamb√©m queria mais do que s√≥ uma sobremesa...‚Äù</strong>
      </p>
      <p style="line-height: 1.6;">Quando comecei a fazer sorvetes em casa, meu maior desejo era ver minha fam√≠lia reunida, sorrindo, criando mem√≥rias simples ‚Äî mas marcantes. Foi nesse momento que percebi: receitas podem ir muito al√©m do sabor. Elas criam conex√£o, acolhimento e afeto.</p>

      <p style="line-height: 1.6;">Assim nasceu o <strong>Sorvete sem Segredo</strong>: um eBook feito para transformar a sua cozinha em um espa√ßo de encontros inesquec√≠veis. Ele oferece:</p>

      <div style="margin: 25px 0; padding: 20px; background: var(--menta); border-radius: 14px; line-height: 1.8;">
        <p>üç¶ <strong>Receitas simples, pr√°ticas e testadas para qualquer n√≠vel.</strong></p>
        <p>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ <strong>Inspira√ß√£o para criar momentos especiais em fam√≠lia.</strong></p>
        <p>‚è±Ô∏è <strong>Preparo r√°pido com poucos ingredientes.</strong></p>
        <p>‚ùÑÔ∏è <strong>Funciona com ou sem sorveteira.</strong></p>
      </div>

      <p style="line-height: 1.6;">Se voc√™ chegou at√© aqui, √© porque tamb√©m valoriza esses momentos. E acredite: n√£o √© preciso ser chef para encantar sua fam√≠lia com sabores incr√≠veis ‚Äî s√≥ √© preciso um pouco de vontade‚Ä¶ e as receitas certas.</p>

      <p style="text-align: center; font-size: 1.2rem; margin-top: 30px;">
        üíõ <strong>Vamos dar o primeiro passo juntos?</strong>
      </p>

      <p style="font-size: 0.85rem; color: #cc0000; font-weight: bold; text-align: center; margin-top: 10px;">
        üéâ O seu desejo √© especial para mim, ent√£o quero te dar um presente! Aproveite agora! üòç
      </p>

      <div style="text-align: right; margin-top: 10px;">
        <i style="font-size: 0.85rem;">
          - Atenciosamente, Camila!
        </i>
      </div>
      <p></p>

      <div id="offer-timer" style="
      background: var(--rosa);
      color: var(--text-dark);
      padding: 12px;
      border-radius: 8px;
      text-align: center;
      margin-bottom: 20px;
      font-weight: bold;
      font-size: 1.1rem;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  ">
    ‚è≥ <strong>Oferta expira em:</strong> <span id="countdown">02:00:00</span>
  </div>

      <div style="text-align: center; margin-top: 20px;">
        <a class="checkout-button" href="https://pay.kirvano.com/9aa58506-88d8-4680-93c5-42ddfb8b024f" target="_blank">
          üëâ Garantir meu eBook com desconto agora!
        </a>
      </div>
    </div>
  </div>
</div>

<!-- Biblioteca de Confete -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
  function nextQuestion(nextId) {
    const allContainers = document.querySelectorAll('.quiz-container');
    allContainers.forEach(el => el.classList.remove('active'));

    setTimeout(() => {
      const next = document.getElementById(nextId);
      next.classList.add('active');
      window.scrollTo({ top: 0, behavior: 'smooth' });

      // Ativa confete se for a tela final
      if (nextId === 'final') {
        startConfetti();
      }
    }, 250);
  }

  function startConfetti() {
    const duration = 3000;
    const animationEnd = Date.now() + duration;
    const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 1000 };

    const interval = setInterval(() => {
      const timeLeft = animationEnd - Date.now();
      if (timeLeft <= 0) {
        return clearInterval(interval);
      }

      confetti({
        ...defaults,
        particleCount: 20,
        origin: {
          x: Math.random(),
          y: Math.random() * 0.5
        }
      });
    }, 250);
  }

  function getCookie(name) {
    const value = "; " + document.cookie;
    const parts = value.split("; " + name + "=");
    if (parts.length === 2) return parts.pop().split(";").shift();
  }

  const checkoutButton = document.querySelector('.checkout-button');
  if (checkoutButton) {
    checkoutButton.addEventListener('click', function () {
      const fbc = getCookie('_fbc');
      fbq('track', 'InitiateCheckout', {
        fbc: fbc || null
      });
    });
  }

  // Timer com localStorage (2 horas de countdown persistente)
  function startPersistentCountdown() {
    const timerElement = document.getElementById('countdown');
    const offerDuration = 2 * 60 * 60 * 1000; // 2 horas em milissegundos
    const now = new Date().getTime();
    let storedEndTime = localStorage.getItem('offerEndTime');

    // Se n√£o existe, cria e salva
    if (!storedEndTime) {
      storedEndTime = now + offerDuration;
      localStorage.setItem('offerEndTime', storedEndTime);
    }

    const endTime = parseInt(storedEndTime);

    // Se o tempo salvo j√° passou, redefine
    if (endTime <= now) {
      localStorage.setItem('offerEndTime', now + offerDuration);
      location.reload(); // Recarrega para sincronizar
      return;
    }

    // Atualiza o timer a cada segundo
    const interval = setInterval(() => {
      const currentTime = new Date().getTime();
      const remainingTime = endTime - currentTime;

      if (remainingTime <= 0) {
        clearInterval(interval);
        timerElement.textContent = "Oferta expirada!";
        localStorage.removeItem('offerEndTime'); // Limpa o cache
        return;
      }

      // Calcula horas, minutos e segundos restantes
      const hours = Math.floor(remainingTime / (1000 * 60 * 60));
      const minutes = Math.floor((remainingTime % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((remainingTime % (1000 * 60)) / 1000);

      // Formata para HH:MM:SS
      const formattedTime = 
        `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      
      timerElement.textContent = formattedTime;
    }, 1000);
  }

  // Inicia o timer ao carregar a p√°gina
  document.addEventListener('DOMContentLoaded', () => {
    startPersistentCountdown();
  });
</script>

</body>
</html>
